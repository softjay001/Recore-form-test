<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recore Limited - Employment Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles for transitions and animations */
        .form-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .form-step.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Custom input style */
        .input-highlight:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        /* Progress bar style */
        .progress-bar {
            height: 6px;
            background-color: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: #3b82f6;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header with logo -->
        <header class="mb-8 text-center">
            <img src="https://recoreltdng.com/img/logo.png" alt="Recore Limited Logo" class="mx-auto h-24 mb-4">
            <h1 class="text-3xl font-bold text-gray-800">Employment Application Form</h1>
            <p class="text-gray-600 mt-2">Please fill in all required fields</p>
        </header>
        
        <!-- Progress indicator -->
        <div class="mb-8">
            <div class="flex justify-between mb-2">
                <span class="font-medium text-blue-600">Step 1: Applicant Data</span>
                <span class="font-medium text-gray-500">Step 2: Pension & Bank</span>
                <span class="font-medium text-gray-500">Step 3: ID Card Request</span>
            </div>
            <div class="progress-bar">
                <div class="progress" style="width: 33.33%"></div>
            </div>
        </div>
        
        <!-- Form container -->
        <form id="recoreForm" class="bg-white rounded-lg shadow-md p-6">
            <!-- Step 1: Applicant Data Form -->
            <div id="step1" class="form-step active">
                <h2 class="text-xl font-semibold text-gray-800 mb-6 border-b pb-2">Applicant Data Form</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Personal Information -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-700">Personal Information</h3>
                        
                        <div>
                            <label for="surname" class="block text-sm font-medium text-gray-700 mb-1">Surname *</label>
                            <input type="text" id="surname" name="surname" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="other_names" class="block text-sm font-medium text-gray-700 mb-1">Other Names *</label>
                            <input type="text" id="other_names" name="other_names" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="dob" class="block text-sm font-medium text-gray-700 mb-1">Date of Birth *</label>
                            <input type="date" id="dob" name="dob" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="state_origin" class="block text-sm font-medium text-gray-700 mb-1">State of Origin *</label>
                            <input type="text" id="state_origin" name="state_origin" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="lga" class="block text-sm font-medium text-gray-700 mb-1">LGA *</label>
                            <input type="text" id="lga" name="lga" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
                            <input type="email" id="email" name="email" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number *</label>
                            <input type="tel" id="phone" name="phone" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Marital Status *</label>
                            <div class="flex space-x-4">
                                <label class="inline-flex items-center">
                                    <input type="radio" name="marital_status" value="Single" required 
                                           class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                                    <span class="ml-2 text-gray-700">Single</span>
                                </label>
                                <label class="inline-flex items-center">
                                    <input type="radio" name="marital_status" value="Married" required 
                                           class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                                    <span class="ml-2 text-gray-700">Married</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Employment Details -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-700">Employment Details</h3>
                        
                        <div>
                            <label for="experience_years" class="block text-sm font-medium text-gray-700 mb-1">Years of Experience *</label>
                            <input type="number" id="experience_years" name="experience_years" min="0" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="last_employment" class="block text-sm font-medium text-gray-700 mb-1">Last Place of Employment *</label>
                            <input type="text" id="last_employment" name="last_employment" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="last_employer_contact" class="block text-sm font-medium text-gray-700 mb-1">Contact Person at Last Employment *</label>
                            <input type="text" id="last_employer_contact" name="last_employer_contact" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="last_salary" class="block text-sm font-medium text-gray-700 mb-1">Last Salary Received *</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <span class="text-gray-500">â‚¦</span>
                                </div>
                                <input type="number" id="last_salary" name="last_salary" min="0" required 
                                       class="w-full pl-8 px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                            </div>
                        </div>
                        
                        <div>
                            <label for="reason_for_leaving" class="block text-sm font-medium text-gray-700 mb-1">Reason for Leaving *</label>
                            <textarea id="reason_for_leaving" name="reason_for_leaving" rows="3" required 
                                      class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500"></textarea>
                        </div>
                        
                        <div>
                            <label for="position_applied" class="block text-sm font-medium text-gray-700 mb-1">Position Applied For *</label>
                            <input type="text" id="position_applied" name="position_applied" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="education_qualification" class="block text-sm font-medium text-gray-700 mb-1">Educational Qualification *</label>
                            <select id="education_qualification" name="education_qualification" required 
                                    class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                                <option value="" disabled selected>Select qualification</option>
                                <option value="SSCE">SSCE</option>
                                <option value="OND">OND</option>
                                <option value="HND/BSc">HND/BSc</option>
                                <option value="MSc">MSc</option>
                                <option value="PhD">PhD</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Next of Kin & Address -->
                    <div class="md:col-span-2 space-y-4">
                        <h3 class="text-lg font-medium text-gray-700">Next of Kin & Address Details</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="next_of_kin" class="block text-sm font-medium text-gray-700 mb-1">Next of Kin Name *</label>
                                <input type="text" id="next_of_kin" name="next_of_kin" required 
                                       class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                            </div>
                            
                            <div>
                                <label for="next_of_kin_phone" class="block text-sm font-medium text-gray-700 mb-1">Next of Kin Phone Number *</label>
                                <input type="tel" id="next_of_kin_phone" name="next_of_kin_phone" required 
                                       class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                            </div>
                            
                            <div class="md:col-span-2">
                                <label for="next_of_kin_address" class="block text-sm font-medium text-gray-700 mb-1">Next of Kin Address *</label>
                                <textarea id="next_of_kin_address" name="next_of_kin_address" rows="2" required 
                                          class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500"></textarea>
                            </div>
                            
                            <div>
                                <label for="spouse_name" class="block text-sm font-medium text-gray-700 mb-1">Spouse Name (if married)</label>
                                <input type="text" id="spouse_name" name="spouse_name" 
                                       class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                            </div>
                            
                            <div>
                                <label for="spouse_phone" class="block text-sm font-medium text-gray-700 mb-1">Spouse Phone Number (if married)</label>
                                <input type="tel" id="spouse_phone" name="spouse_phone" 
                                       class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                            </div>
                            
                            <div class="md:col-span-2">
                                <label for="residential_address" class="block text-sm font-medium text-gray-700 mb-1">Residential Address *</label>
                                <textarea id="residential_address" name="residential_address" rows="3" required 
                                          class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Step 2: Pension and Bank Details -->
            <div id="step2" class="form-step">
                <h2 class="text-xl font-semibold text-gray-800 mb-6 border-b pb-2">Pension and Bank Details</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Pension Details -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-700">Pension Details</h3>
                        
                        <div>
                            <label for="pension_surname" class="block text-sm font-medium text-gray-700 mb-1">Surname *</label>
                            <input type="text" id="pension_surname" name="pension_surname" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="pension_other_names" class="block text-sm font-medium text-gray-700 mb-1">Other Names *</label>
                            <input type="text" id="pension_other_names" name="pension_other_names" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="pension_number" class="block text-sm font-medium text-gray-700 mb-1">Pension Number (PIN) *</label>
                            <input type="text" id="pension_number" name="pension_number" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="pension_administrator" class="block text-sm font-medium text-gray-700 mb-1">Pension Fund Administrator *</label>
                            <select id="pension_administrator" name="pension_administrator" required 
                                    class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                                <option value="" disabled selected>Select PFA</option>
                                <option value="AIICO Pension Managers Ltd">AIICO Pension Managers Ltd</option>
                                <option value="ARM Pension Managers Ltd">ARM Pension Managers Ltd</option>
                                <option value="AXA Mansard Pension Ltd">AXA Mansard Pension Ltd</option>
                                <option value="Crusader Sterling Pensions Ltd">Crusader Sterling Pensions Ltd</option>
                                <option value="Fidelity Pension Managers Ltd">Fidelity Pension Managers Ltd</option>
                                <option value="First Guarantee Pension Ltd">First Guarantee Pension Ltd</option>
                                <option value="Leadway Pensure PFA Ltd">Leadway Pensure PFA Ltd</option>
                                <option value="NLPC Pension Fund Administrators">NLPC Pension Fund Administrators</option>
                                <option value="PAL Pensions Ltd">PAL Pensions Ltd</option>
                                <option value="Premium Pension Ltd">Premium Pension Ltd</option>
                                <option value="Radix Pension Managers Ltd">Radix Pension Managers Ltd</option>
                                <option value="Sigma Pensions Ltd">Sigma Pensions Ltd</option>
                                <option value="Stanbic IBTC Pension Managers Ltd">Stanbic IBTC Pension Managers Ltd</option>
                                <option value="Trustfund Pensions Ltd">Trustfund Pensions Ltd</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Bank Details -->
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-700">Bank Details</h3>
                        
                        <div>
                            <label for="bank_account_name" class="block text-sm font-medium text-gray-700 mb-1">Account Name *</label>
                            <input type="text" id="bank_account_name" name="bank_account_name" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="bank_account_number" class="block text-sm font-medium text-gray-700 mb-1">Account Number *</label>
                            <input type="text" id="bank_account_number" name="bank_account_number" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="bank_name" class="block text-sm font-medium text-gray-700 mb-1">Bank Name *</label>
                            <select id="bank_name" name="bank_name" required 
                                    class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                                <option value="" disabled selected>Select Bank</option>
                                <option value="Access Bank">Access Bank</option>
                                <option value="Citibank Nigeria">Citibank Nigeria</option>
                                <option value="Ecobank Nigeria">Ecobank Nigeria</option>
                                <option value="Fidelity Bank">Fidelity Bank</option>
                                <option value="First Bank of Nigeria">First Bank of Nigeria</option>
                                <option value="First City Monument Bank">First City Monument Bank</option>
                                <option value="Globus Bank">Globus Bank</option>
                                <option value="Guaranty Trust Bank">Guaranty Trust Bank</option>
                                <option value="Heritage Bank">Heritage Bank</option>
                                <option value="Keystone Bank">Keystone Bank</option>
                                <option value="Polaris Bank">Polaris Bank</option>
                                <option value="Providus Bank">Providus Bank</option>
                                <option value="Stanbic IBTC Bank">Stanbic IBTC Bank</option>
                                <option value="Standard Chartered Bank">Standard Chartered Bank</option>
                                <option value="Sterling Bank">Sterling Bank</option>
                                <option value="Suntrust Bank">Suntrust Bank</option>
                                <option value="Titan Trust Bank">Titan Trust Bank</option>
                                <option value="Union Bank of Nigeria">Union Bank of Nigeria</option>
                                <option value="United Bank for Africa">United Bank for Africa</option>
                                <option value="Unity Bank">Unity Bank</option>
                                <option value="Wema Bank">Wema Bank</option>
                                <option value="Zenith Bank">Zenith Bank</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Step 3: ID Card Request -->
            <div id="step3" class="form-step">
                <h2 class="text-xl font-semibold text-gray-800 mb-6 border-b pb-2">ID Card Request Form</h2>
                
                <div class="space-y-6 max-w-2xl mx-auto">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="id_card_surname" class="block text-sm font-medium text-gray-700 mb-1">Surname *</label>
                            <input type="text" id="id_card_surname" name="id_card_surname" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="id_card_other_names" class="block text-sm font-medium text-gray-700 mb-1">Other Names *</label>
                            <input type="text" id="id_card_other_names" name="id_card_other_names" required 
                                   class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                        </div>
                    </div>
                    
                    <div>
                        <label for="staff_id" class="block text-sm font-medium text-gray-700 mb-1">Staff ID Number *</label>
                        <input type="text" id="staff_id" name="staff_id" required 
                               class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label for="company_name" class="block text-sm font-medium text-gray-700 mb-1">Name of Company *</label>
                        <input type="text" id="company_name" name="company_name" value="Recore Limited" readonly 
                               class="w-full px-4 py-2 border bg-gray-100 rounded-md cursor-not-allowed">
                    </div>
                    
                    <div>
                        <label for="request_date" class="block text-sm font-medium text-gray-700 mb-1">Date *</label>
                        <input type="date" id="request_date" name="request_date" required 
                               class="w-full px-4 py-2 border rounded-md input-highlight focus:outline-none focus:ring-1 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label for="signature" class="block text-sm font-medium text-gray-700 mb-1">Signature *</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-md p-4 w-full h-32 flex items-center justify-center cursor-pointer" 
                             id="signatureCanvasContainer">
                            <div id="signatureCanvas" class="w-full h-full"></div>
                            <p id="signaturePrompt" class="text-gray-500">Click here to draw your signature</p>
                        </div>
                        <button type="button" id="clearSignature" class="mt-2 text-sm text-blue-600 hover:text-blue-800">
                            <i class="fas fa-redo mr-1"></i>Clear Signature
                        </button>
                    </div>
                    
                    <div class="pt-4">
                        <p class="text-sm text-gray-600">By submitting this form, I confirm that all information provided is accurate and complete.</p>
                    </div>
                </div>
            </div>
            
            <!-- Navigation buttons -->
            <div class="flex justify-between mt-8 pt-6 border-t">
                <button type="button" id="prevBtn" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 hidden">
                    <i class="fas fa-arrow-left mr-2"></i>Previous
                </button>
                
                <div class="ml-auto">
                    <button type="button" id="nextSaveBtn" class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        Save & Next<i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
                
                <button type="submit" id="submitBtn" class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 hidden">
                    <i class="fas fa-paper-plane mr-2"></i>Submit Application
                </button>
            </div>
        </form>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-md shadow-lg transition-opacity duration-300 opacity-0 hidden">
        <span id="toastMessage">Form saved successfully!</span>
    </div>

    <script>
        // Auto-save functionality
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('recoreForm');
            const formFields = form.querySelectorAll('input, select, textarea');
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            // Load saved form data from localStorage
            function loadFormData() {
                const savedData = localStorage.getItem('recoreFormData');
                if (savedData) {
                    const formData = JSON.parse(savedData);
                    
                    Object.keys(formData).forEach(key => {
                        const field = form.querySelector(`[name="${key}"]`);
                        if (field) {
                            if (field.type === 'radio' || field.type === 'checkbox') {
                                const matchingField = form.querySelector(`[name="${key}"][value="${formData[key]}"]`);
                                if (matchingField) matchingField.checked = true;
                            } else {
                                field.value = formData[key];
                            }
                        }
                    });
                }
            }
            
            // Save form data to localStorage
            function saveFormData() {
                const formData = {};
                
                formFields.forEach(field => {
                    if (field.type === 'radio' || field.type === 'checkbox') {
                        if (field.checked) formData[field.name] = field.value;
                    } else {
                        formData[field.name] = field.value;
                    }
                });
                
                localStorage.setItem('recoreFormData', JSON.stringify(formData));
                
                // Show toast notification
                toast.classList.remove('opacity-0', 'hidden');
                toastMessage.textContent = 'Form data saved automatically';
                setTimeout(() => {
                    toast.classList.add('opacity-0');
                    setTimeout(() => toast.classList.add('hidden'), 300);
                }, 2000);
            }
            
            // Initialize signature pad
            const signatureCanvasContainer = document.getElementById('signatureCanvasContainer');
            const signaturePrompt = document.getElementById('signaturePrompt');
            const clearSignatureBtn = document.getElementById('clearSignature');
            
            // For a real implementation, you'd use a library like signature_pad
            signatureCanvasContainer.addEventListener('click', function() {
                signaturePrompt.classList.add('hidden');
                // In a real implementation, you would initialize the signature pad here
                alert('In a real implementation, this would open a signature pad to capture your signature.');
            });
            
            clearSignatureBtn.addEventListener('click', function() {
                // Clear the signature
                signaturePrompt.classList.remove('hidden');
            });
            
            // Save form data when any field changes
            formFields.forEach(field => {
                field.addEventListener('change', saveFormData);
                field.addEventListener('input', saveFormData);
            });
            
            // Load saved data when page loads
            loadFormData();
            
            // Multi-step form functionality
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');
            const step3 = document.getElementById('step3');
            const prevBtn = document.getElementById('prevBtn');
            const nextSaveBtn = document.getElementById('nextSaveBtn');
            const submitBtn = document.getElementById('submitBtn');
            const progressBar = document.querySelector('.progress');
            
            let currentStep = 1;
            const totalSteps = 3;
            
            function updateButtons() {
                if (currentStep === 1) {
                    prevBtn.classList.add('hidden');
                    nextSaveBtn.classList.remove('hidden');
                    submitBtn.classList.add('hidden');
                } else if (currentStep === totalSteps) {
                    prevBtn.classList.remove('hidden');
                    nextSaveBtn.classList.add('hidden');
                    submitBtn.classList.remove('hidden');
                } else {
                    prevBtn.classList.remove('hidden');
                    nextSaveBtn.classList.remove('hidden');
                    submitBtn.classList.add('hidden');
                }
                
                // Update progress bar
                progressBar.style.width = `${(currentStep / totalSteps) * 100}%`;
                
                // Update step indicators
                document.querySelectorAll('.flex.justify-between.mb-2 span').forEach((span, index) => {
                    if (index + 1 === currentStep) {
                        span.classList.add('text-blue-600');
                        span.classList.remove('text-gray-500');
                    } else if (index + 1 < currentStep) {
                        span.classList.add('text-green-600');
                        span.classList.remove('text-gray-500');
                    } else {
                        span.classList.add('text-gray-500');
                        span.classList.remove('text-blue-600', 'text-green-600');
                    }
                });
            }
            
            function showStep(step) {
                // Hide all steps
                document.querySelectorAll('.form-step').forEach(el => {
                    el.classList.remove('active');
                });
                
                // Show current step
                document.getElementById(`step${step}`).classList.add('active');
                currentStep = step;
                updateButtons();
            }
            
            // Initialize
            showStep(1);
            
            // Navigation buttons
            nextSaveBtn.addEventListener('click', function() {
                // Validate current step before proceeding
                let isValid = true;
                const currentStepFields = document.querySelectorAll(`#step${currentStep} [required]`);
                
                currentStepFields.forEach(field => {
                    if (!field.value) {
                        field.classList.add('border-red-500');
                        isValid = false;
                    } else {
                        field.classList.remove('border-red-500');
                    }
                });
                
                if (!isValid) {
                    toastMessage.textContent = 'Please fill in all required fields';
                    toast.classList.remove('opacity-0', 'hidden');
                    setTimeout(() => {
                        toast.classList.add('opacity-0');
                        setTimeout(() => toast.classList.add('hidden'), 300);
                    }, 2000);
                    return;
                }
                
                saveFormData();
                showStep(currentStep + 1);
            });
            
            prevBtn.addEventListener('click', function() {
                showStep(currentStep - 1);
            });
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate all fields
                let isValid = true;
                const allRequiredFields = document.querySelectorAll('[required]');
                
                allRequiredFields.forEach(field => {
                    if (!field.value) {
                        field.classList.add('border-red-500');
                        isValid = false;
                    } else {
                        field.classList.remove('border-red-500');
                    }
                });
                
                if (!isValid) {
                    toastMessage.textContent = 'Please fill in all required fields';
                    toast.classList.remove('opacity-0', 'hidden');
                    setTimeout(() => {
                        toast.classList.add('opacity-0');
                        setTimeout(() => toast.classList.add('hidden'), 300);
                    }, 2000);
                    return;
                }
                
                // Collect all form data
                const formData = {};
                form.querySelectorAll('input, select, textarea').forEach(field => {
                    if (field.type === 'radio' || field.type === 'checkbox') {
                        if (field.checked) formData[field.name] = field.value;
                    } else {
                        formData[field.name] = field.value;
                    }
                });
                
                /* 
                *  IN A REAL IMPLEMENTATION:
                *  1. Here you would send the formData to your backend
                *  2. The backend would connect to your MySQL database and save the data
                *  3. The backend would also generate a PDF (using libraries like pdfkit or wkhtmltopdf)
                *  4. Then email the PDF to your designated email address using a mail service
                *
                *  Example MySQL connection code (would be in your backend, not frontend):
                *  
                *  const mysql = require('mysql');
                *  const connection = mysql.createConnection({
                *    host: 'your-database-host',
                *    user: 'your-database-user',
                *    password: 'your-database-password',
                *    database: 'your-database-name'
                *  });
                *  
                *  connection.connect();
                *  const query = 'INSERT INTO applicants SET ?';
                *  connection.query(query, formData, (error, results) => {
                *    if (error) throw error;
                *    console.log('Record inserted successfully');
                *  });
                *  connection.end();
                *  
                *  For PDF generation:
                *  You could use html-pdf or jsPDF libraries on the backend
                *  
                *  For email sending:
                *  You could use nodemailer with your SMTP credentials or a service like SendGrid
                */
                
                // Show success message
                toastMessage.textContent = 'Application submitted successfully!';
                toast.classList.remove('opacity-0', 'hidden', 'bg-green-600');
                toast.classList.add('bg-blue-600');
                setTimeout(() => {
                    toast.classList.add('opacity-0');
                    setTimeout(() => toast.classList.add('hidden'), 300);
                }, 3000);
                
                // Clear the form after submission
                form.reset();
                localStorage.removeItem('recoreFormData');
                
                // In a real app, you might redirect to a success page
                // window.location.href = '/success.html';
            });
        });
    </script>
</body>
</html>
